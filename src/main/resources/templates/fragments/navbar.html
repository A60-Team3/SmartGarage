<nav th:fragment="navbar" class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
    <a th:href="@{/}" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
        <h2 class="m-0 text-primary" th:text="#{smart.garage.name}"><i class="fa fa-car me-3"></i>CarServ</h2>
    </a>
    <div class="navbar-nav ms-auto p-4 p-lg-0">
        <div sec:authorize="isAuthenticated()">
            <div sec:authorize="hasRole('HR')" class="d-flex gap-2">
                <a class="nav-item nav-link" th:href="@{/garage/hr}">Admin</a>
                <a class="nav-item nav-link clerk-links" style="display: none"
                   th:href="@{/garage/users/new}">Register User</a>
            </div>
            <div sec:authorize="hasRole('CUSTOMER')">
                <a class="nav-item nav-link" th:href="@{/garage/client}">Client</a>
            </div>
            <div sec:authorize="hasRole('CLERK')" class="d-flex gap-2">
                <a class="nav-item nav-link" th:href="@{/garage/clerk}">Clerk</a>
                <a class="nav-item nav-link clerk-links" style="display: none"
                   th:href="@{/garage/visits/new}">New Visit</a>
                <a class="nav-item nav-link clerk-links" style="display: none"
                   th:href="@{/garage/users/new}">Register User</a>
                <a class="nav-item nav-link clerk-links" style="display: none"
                   th:href="@{/garage/vehicles/new}">Register Vehicle</a>
            </div>
            <div sec:authorize="hasRole('MECHANIC')">
                <a class="nav-item nav-link" th:href="@{/garage/mechanic}">Mechanic</a>
            </div>
        </div>
        <div>
            <h5 class="error-message" th:if="${param.logged}" th:text="#{user.label.user-already-logged}">User already
                logged in</h5>
            <h5 class="success-message" th:if="${param.success}" th:text="#{user.label.login-success}">Successful
                login</h5>
        </div>
    </div>
    <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ms-auto p-4 p-lg-0">
            <a th:href="@{/garage/home}" class="nav-item nav-link">Home</a>
            <a sec:authorize="!isAuthenticated() or hasRole('CUSTOMER')"
               th:href="@{/garage/about}" class="nav-item nav-link">About</a>
            <a th:href="@{/garage/brands}" class="nav-item nav-link">Car brands</a>
            <a th:href="@{/garage/services}" class="nav-item nav-link">Services</a>
            <!--<div sec:authorize="!isAuthenticated() or hasRole('CUSTOMER')" class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                <div class="dropdown-menu fade-up m-0">
                    <a th:href="@{/garage/booking}" class="dropdown-item">Booking</a>
                    <a th:href="@{/garage/team}" class="dropdown-item">Our Team</a>
                    <a th:href="@{/garage/reviews}" class="dropdown-item">Comments</a>
                    <a th:href="@{/garage/404}" class="dropdown-item">404 Page</a>
                </div>
            </div>-->
            <a sec:authorize="!isAuthenticated() or hasRole('CUSTOMER')"
               th:href="@{/garage/contacts}" class="nav-item nav-link">Contact</a>
            <div sec:authorize="!isAuthenticated()">
                <a class="nav-item nav-link" th:href="@{/garage/login}">Log In</a>
            </div>
            <div sec:authorize="isAuthenticated()">
                <a class="nav-item nav-link" href="/garage/users/me" id="profilePage">Profile</a>
            </div>
            <div sec:authorize="isAuthenticated()">
                <a class="nav-item nav-link" href="#" onclick="logout()">Log out</a>
            </div>
        </div>
        <div sec:authorize="!isAuthenticated() or hasRole('CUSTOMER')">
            <a href="" th:href="@{/garage/quotation}"
               class="btn btn-primary py-4 px-lg-5 d-none d-lg-block">Get A Quote<i
                    class="fa fa-arrow-right ms-3"></i></a>
        </div>
    </div>
</nav>